{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let RegisterComponent = class RegisterComponent {\n  constructor(formBuilder, authService) {\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.errorMessage = '';\n    this.registrationForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      address: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  onSubmit() {\n    this.errorMessage = ''; // Clear any previous error message\n    if (this.registrationForm.valid) {\n      const user = this.registrationForm.value;\n      user.role = 'member';\n      this.authService.registerUser(user).subscribe(response => {\n        // Handle successful registration\n        console.log('Registration success:', response);\n        alert('Registration successful. You can now log in.');\n      }, error => {\n        // Handle registration error\n        console.error('Registration error:', error);\n        if (error.status === 400) {\n          this.errorMessage = 'Email or name is already in use.';\n        } else {\n          this.errorMessage = 'An error occurred during registration. Please try again later.';\n        }\n      });\n    }\n  }\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})], RegisterComponent);","map":{"version":3,"names":["Component","Validators","RegisterComponent","constructor","formBuilder","authService","errorMessage","registrationForm","group","name","required","email","address","password","minLength","onSubmit","valid","user","value","role","registerUser","subscribe","response","console","log","alert","error","status","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\GIT\\FinalProject3\\Frontend\\src\\app\\auth\\register\\register.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent {\n  registrationForm: FormGroup;\n  errorMessage: string = '';\n\n constructor(private formBuilder: FormBuilder, private authService: AuthService) {\n    this.registrationForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      address: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  onSubmit() {\n    this.errorMessage = ''; // Clear any previous error message\n\n    if (this.registrationForm.valid) {\n      const user = this.registrationForm.value;\n      user.role = 'member';\n\n      this.authService.registerUser(user).subscribe(\n        (response) => {\n          // Handle successful registration\n          console.log('Registration success:', response);\n          alert('Registration successful. You can now log in.');\n        },\n        (error) => {\n          // Handle registration error\n          console.error('Registration error:', error);\n\n          if (error.status === 400) {\n            this.errorMessage = 'Email or name is already in use.';\n          } else {\n            this.errorMessage = 'An error occurred during registration. Please try again later.';\n          }\n        }\n      );\n    }\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAAiCC,UAAU,QAAQ,gBAAgB;AAO5D,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAI7BC,YAAoBC,WAAwB,EAAUC,WAAwB;IAA1D,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,WAAW,GAAXA,WAAW;IAFhE,KAAAC,YAAY,GAAW,EAAE;IAGvB,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACH,WAAW,CAACI,KAAK,CAAC;MAC7CC,IAAI,EAAE,CAAC,EAAE,EAAE,CAACR,UAAU,CAACS,QAAQ,CAAC,CAAC;MACjCC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACV,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,KAAK,CAAC,CAAC;MACpDC,OAAO,EAAE,CAAC,EAAE,EAAE,CAACX,UAAU,CAACS,QAAQ,CAAC,CAAC;MACpCG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACa,SAAS,CAAC,CAAC,CAAC,CAAC;KAC9D,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACT,YAAY,GAAG,EAAE,CAAC,CAAC;IAExB,IAAI,IAAI,CAACC,gBAAgB,CAACS,KAAK,EAAE;MAC/B,MAAMC,IAAI,GAAG,IAAI,CAACV,gBAAgB,CAACW,KAAK;MACxCD,IAAI,CAACE,IAAI,GAAG,QAAQ;MAEpB,IAAI,CAACd,WAAW,CAACe,YAAY,CAACH,IAAI,CAAC,CAACI,SAAS,CAC1CC,QAAQ,IAAI;QACX;QACAC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,QAAQ,CAAC;QAC9CG,KAAK,CAAC,8CAA8C,CAAC;MACvD,CAAC,EACAC,KAAK,IAAI;QACR;QACAH,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAE3C,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;UACxB,IAAI,CAACrB,YAAY,GAAG,kCAAkC;SACvD,MAAM;UACL,IAAI,CAACA,YAAY,GAAG,gEAAgE;;MAExF,CAAC,CACF;;EAEL;CACD;AAvCYJ,iBAAiB,GAAA0B,UAAA,EAL7B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW7B,iBAAiB,CAuC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}