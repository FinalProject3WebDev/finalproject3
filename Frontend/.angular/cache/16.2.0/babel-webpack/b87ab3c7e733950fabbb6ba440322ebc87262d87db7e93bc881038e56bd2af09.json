{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(formBuilder, authService, router) {\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.router = router;\n    this.form = this.formBuilder.group({\n      email: [''],\n      password: ['']\n    });\n  }\n  submit() {\n    const emailValue = this.form.get('email')?.value;\n    const passwordValue = this.form.get('password')?.value;\n    this.authService.login({\n      email: emailValue,\n      password: passwordValue\n    }).subscribe(response => {\n      const accessToken = response.accessToken;\n      localStorage.setItem('accessToken', accessToken); // Store the token in localStorage\n      // Log the token to the console\n      console.log('Access Token:', accessToken);\n      // console.log('123')\n      alert('Login successful');\n      this.router.navigate(['/movies']); // Redirect to protected route\n    }, error => {\n      alert('Login failed');\n    });\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 34,\n  vars: 1,\n  consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"\", 2, \"padding\", \"10px\"], [1, \"px-4\", \"py-5\", \"px-md-5\", \"text-center\", \"text-lg-start\", 2, \"background-color\", \"hsl(0, 0%, 100%)\"], [1, \"container\"], [1, \"row\", \"gx-lg-5\", \"align-items-center\"], [1, \"col-lg-6\", \"mb-5\", \"mb-lg-0\"], [1, \"my-5\", \"display-3\", \"fw-bold\", \"ls-tight\"], [1, \"text-primary\"], [1, \"card\"], [1, \"card-body\", \"py-5\", \"px-md-5\"], [3, \"formGroup\", \"submit\"], [1, \"form-outline\", \"mb-4\"], [\"formControlName\", \"email\", \"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"email\", \"required\", \"Email wajib diisi\", 1, \"form-control\"], [\"formControlName\", \"password\", \"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\", 2, \"margin\", \"5px\"], [1, \"text-center\"], [\"routerLink\", \"/register\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n      i0.ɵɵelementStart(4, \"title\");\n      i0.ɵɵtext(5, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"body\")(7, \"section\", 3)(8, \"div\", 4)(9, \"div\", 5)(10, \"div\", 6)(11, \"div\", 7)(12, \"h5\", 8);\n      i0.ɵɵtext(13, \" Welcome back! \");\n      i0.ɵɵelement(14, \"br\");\n      i0.ɵɵelementStart(15, \"span\", 9);\n      i0.ɵɵtext(16, \"Login to your account\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 7)(18, \"div\", 10)(19, \"div\", 11)(20, \"h2\");\n      i0.ɵɵtext(21, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"form\", 12);\n      i0.ɵɵlistener(\"submit\", function LoginComponent_Template_form_submit_22_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(23, \"div\", 13);\n      i0.ɵɵelement(24, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 13);\n      i0.ɵɵelement(26, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"button\", 16);\n      i0.ɵɵtext(28, \" Sign in \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 17)(30, \"p\");\n      i0.ɵɵtext(31, \"sign up using:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"a\", 18);\n      i0.ɵɵtext(33, \"Sign up\");\n      i0.ɵɵelementEnd()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(22);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n    }\n  },\n  dependencies: [i3.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["LoginComponent","constructor","formBuilder","authService","router","form","group","email","password","submit","emailValue","get","value","passwordValue","login","subscribe","response","accessToken","localStorage","setItem","console","log","alert","navigate","error","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_submit_22_listener","ɵɵadvance","ɵɵproperty"],"sources":["D:\\GIT\\FinalProject3\\Frontend\\src\\app\\auth\\login\\login.component.ts","D:\\GIT\\FinalProject3\\Frontend\\src\\app\\auth\\login\\login.component.html"],"sourcesContent":["  import { Component } from '@angular/core';\n  import { FormBuilder, FormGroup } from '@angular/forms';\n  import { AuthService } from '../auth.service';\n  import { Router } from '@angular/router';\n\n  @Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.css']\n  })\n  export class LoginComponent {\n    form: FormGroup;\n  constructor(\n    private formBuilder: FormBuilder,\n    private authService: AuthService,\n    private router: Router\n  ) {\n    this.form = this.formBuilder.group({\n      email: [''],\n      password: [''],\n    });\n  }\n  submit() {\n    const emailValue = this.form.get('email')?.value;\n    const passwordValue = this.form.get('password')?.value;\n  \n    this.authService.login({ email: emailValue, password: passwordValue }).subscribe(\n      (response) => {\n        const accessToken = response.accessToken;\n        localStorage.setItem('accessToken', accessToken); // Store the token in localStorage\n        \n        // Log the token to the console\n        console.log('Access Token:', accessToken)\n        // console.log('123')\n  \n        alert('Login successful');\n        this.router.navigate(['/movies']); // Redirect to protected route\n      },\n      (error) => {\n        alert('Login failed');\n      }\n    );\n  }\n  \n}\n","<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Login</title>\n</head>\n\n<body>\n  <!-- Section: Design Block -->\n  <section class=\"\" style=\"padding: 10px;\">\n    <!-- Jumbotron -->\n    <div class=\"px-4 py-5 px-md-5 text-center text-lg-start\" style=\"background-color: hsl(0, 0%, 100%)\">\n      <div class=\"container\">\n        <div class=\"row gx-lg-5 align-items-center\">\n          <div class=\"col-lg-6 mb-5 mb-lg-0\">\n            <h5 class=\"my-5 display-3 fw-bold ls-tight\">\n              Welcome back! <br />\n              <span class=\"text-primary\">Login to your account</span>\n            </h5>\n          </div>\n\n          <div class=\"col-lg-6 mb-5 mb-lg-0\">\n            <div class=\"card\">\n              <div class=\"card-body py-5 px-md-5\">\n                <h2>Login</h2>\n                <form [formGroup]=\"form\" (submit)=\"submit()\">\n                  <!-- Email input -->\n                  <div class=\"form-outline mb-4\">\n                    <input formControlName=\"email\" type=\"text\" id=\"email\" name=\"email\" class=\"form-control\"\n                      placeholder=\"email\" required=\"Email wajib diisi\" />\n                    <!-- <label class=\"form-label\" for=\"form3Example3\">Email address</label> -->\n                  </div>\n\n                  <!-- Password input -->\n                  <div class=\"form-outline mb-4\">\n                    <input formControlName=\"password\" type=\"password\" id=\"password\" name=\"password\"\n                      placeholder=\"Password\" class=\"form-control\" required />\n                    <!-- <label class=\"form-label\" for=\"form3Example4\">Password</label> -->\n                  </div>\n                  <!-- Submit button -->\n                  <button type=\"submit\" class=\"btn btn-primary btn-block mb-4\" style=\"margin: 5px;\">\n                    Sign in\n                  </button>\n                  <!-- Register buttons -->\n                </form>\n                <div class=\"text-center\">\n                  <p>sign up using:</p>\n                  <a routerLink=\"/register\">Sign up</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Jumbotron -->\n  </section>\n\n  <!-- Section: Design Block -->\n</body>\n\n</html>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}